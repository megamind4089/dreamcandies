/******************************************************************************
 *
 * File: output_buffer.c
 *
 * Author: Mariappan Ramasamy
 *
 *****************************************************************************/

#include "output_buffer.h"

bool output_buffer_init(output_buffer_t *buf, size_t size)
{
    if(!buf) return false;

    buf->buffer = calloc(sizeof(char), size);
    if (!buf->buffer) {
        fprintf(stderr, "Not enough memory");
        assert(0);
        return false;
    }

    buf->size = size;

    buf->current = buf->buffer;
    buf->remaining = size;
    buf->len = 0;
    return true;
}

bool output_buffer_free(buffer_t *buf)
{
    if(!buf) return false;

    free(buf->buffer);
    memset(buf, 0, sizeof(buffer_t));
    return true;
}

